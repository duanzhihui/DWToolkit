# Code2Script 配置文件
# ========================

# 输入配置
input:
  # 代码文件目录
  code_dir: "./code"
  # 文件过滤规则 (支持通配符)
  patterns:
    - "*.sql"
    # - "*.hql"
    # - "*.py"

# 输出配置
output:
  # 脚本输出目录
  script_dir: "./script"
  # 输出文件扩展名
  extension: ".script"

# 模板配置
template:
  # 自定义模板文件路径 (可选，设置后将忽略下面的content配置)
  file: null
  # 模板内容 (JSON格式)
  content:
    configuration: {}
    connectionName: "mrs-spark"
    content: "<sql_content>"
    currentDatabase: ""
    description: ""
    directory: "<file_dir>"
    name: "<file_name>"
    owner: "datalake"
    templateVersion: "1.0"
    type: "SparkSQL"

# 变量转换规则
# 支持的变量类型:
#   - file_content: 文件内容
#   - file_path: 文件路径
#   - file_name: 文件名
#   - literal: 字面量
variables:
  # SQL内容变量
  sql_content:
    type: "file_content"
    # 是否转义换行符为 \n
    escape_newline: true

  # 文件目录变量
  file_dir:
    type: "file_path"
    # 要剔除的前缀路径
    strip_prefix: ""
    # 要添加的前缀路径
    add_prefix: "/"
    # 使用POSIX风格路径 (/ 分隔符)
    use_posix: true

  # 文件名变量
  file_name:
    type: "file_name"
    # 是否包含文件扩展名
    include_extension: false

  # 自定义字面量变量示例
  # custom_var:
  #   type: "literal"
  #   value: "custom_value"
